<!doctype HTML>
<html ng-app="duckducktech">
    <head>
        <base href="/"></base>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
        <title>NoodleStocks</title>
        <link href="https://fonts.googleapis.com/css?family=ABeeZee" rel="stylesheet">
        <link rel="stylesheet" href="css/vendor.css"/>
        <link rel="stylesheet" href="css/index.css"/>
        <link rel="stylesheet" href="css/font-awesome.min.css"/>
    </head>
    <body ng-controller="baseController">
        <header class="navbar navbar-expand-lg sticky-top fixed-top">
            <a class="navbar-brand" href="/">
                <img src="/img/logo.png" width="30" height="30" class="d-inline-block align-top" alt="">
                NoodleStocks
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <!-- <span class="navbar-toggler-icon"></span> -->
                <i class="fa fa-bars" aria-hidden="true"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <form class="form-inline col-md-6 searchbar">
                    <input type="text" typeahead-on-select="gotopage(asyncSelected)" ng-model="asyncSelected" placeholder="Search for company" uib-typeahead="state as state.name for state in searchCompanies($viewValue)" typeahead-loading="loadingLocations" typeahead-no-results="noResults" class="form-control"  typeahead-template-url="customTemplate.html" typeahead-on-select/>
                    <small ng-show="loadingLocations" class="glyphicon glyphicon-refresh search-info"></small>
                    <small ng-show="noResults" class="search-info">
                      <i class="glyphicon glyphicon-remove"></i> No Results Found
                    </small>
                </form>
                <ul class="navbar-nav ml-auto">
                  <li ng-show="!iflogin" class="nav-item">
                    <a class="nav-link" href="/login">Login</a>
                  </li>
                  <li ng-show="!iflogin" class="nav-item">
                    <a class="nav-link" href="/signup">Signup</a>
                  </li>
                  <li ng-show="iflogin" class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      {{$root.userObj.name}}
                    </a>
                    <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdown">
                      <a class="dropdown-item" ng-click="logout()">Logout</a>
                    </div>
                  </li>
                </ul>
            </div>
        </header>
        <div ui-view style="background: #fff" id="container"></div>
        <toaster-container toaster-options="{'position-class': 'toast-bottom-left'}"></toaster-container>
        <script type="text/javascript" src="js/vendor.js"></script>
        
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/ng-template" id="customTemplate.html">
          <a ui-sref="stocks({'code': match.label.code})" style="color: #333;padding: 0px 10px">
            <span ng-bind-html="match.model.code | uibTypeaheadHighlight:query"></span>
            &nbsp;(<small ng-bind-html="match.model.name | uibTypeaheadHighlight:query"></small>)
          </a>
        </script>
    </body>
</html>